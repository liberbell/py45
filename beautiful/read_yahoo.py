import requests
from bs4 import BeautifulSoup
import time
import re

URL = "https://www.yahoo.co.jp/"

response = requests.get(URL)
soup = BeautifulSoup(response.text, "html.parser")

elems = soup.find_all("a")
# print(elems)

elems = soup.find_all(href=re.compile("news.yahoo.co.jp/pickup"))
# print(elems[0].span.string)
# print(elems[0].attrs["href"])

# print(elems[1].span.string)
# print(elems[1].attrs["href"])

pickup_urls = [elem.attrs["href"] for elem in elems]
# print(pickup_urls)

for pickup_url in pickup_urls:
    pickup_response = requests.get(pickup_url)
    pickup_soup = BeautifulSoup(pickup_response.text, "html.parser")

    pickup_elem = pickup_soup.find("p", class_="sc-eFIZSo knQvE")
    news_urls = pickup_elem.a.attrs["href"]
    # print(news_urls)
    news_response = requests.get(news_urls)
    news_soup = BeautifulSoup(news_response.text, "html.parser")
    print(news_soup.title.text)

    detail_text = news_soup.find("article", id_="uamods")

#     <article id="uamods"><header><h1 class="sc-fnebDD bAGyCr">19日　九州は本格的に雪　各地で厳しい寒さ　北海道はなだれや落雪に注意</h1><div class="sc-jcsPjo bUEpDn"><div><div class="sc-iuhXDa dBEucF"><p class="sc-eCbnUT dniLJS"><time>12/19(火)<!-- --> <!-- -->5:46</time><span class="sc-irqbAE kxZWSs">配信</span></p><div class="sc-kGVuwA kyEhLJ"><button data-cl-params="_cl_vmodule:cmtmod;_cl_link:count;" class="sc-bA-DTon IPtEP" data-cl_cl_index="26"><span aria-hidden="true" class="sc-bxLXlR bnapTC"><svg height="18" width="18" class="sc-jYKCQm hvgDcX riff-text-current" fill="currentColor" focusable="false" viewBox="0 0 48 48"><path clip-rule="evenodd" d="M38 7a4 4 0 0 1 3.995 3.8L42 11v19a4 4 0 0 1-3.8 3.995L38 34H23.706l-6.852 6.853a.501.501 0 0 1-.847-.268L16 40.499V34h-6a4 4 0 0 1-3.995-3.8L6 30V11a4 4 0 0 1 3.8-3.995L10 7h28Zm0 4H10v19h9v4l3.6-4H38V11Z" fill-rule="evenodd"></path></svg>45</span><div class="riff-VisuallyHidden__root">コメント<!-- -->45<!-- -->件</div></button><button data-cl-params="_cl_vmodule:cmtmod;_cl_link:profimg;" class="ArticleHeaderComment__CommentCountWrapper-gcpNPL dPmoyZ" data-cl_cl_index="201"><span aria-hidden="true" class="ArticleHeaderComment__CommentIconModule-fNuCsG jllSkw"><img src="https://news-pctr.c.yimg.jp/uUzvQ3lML_bkIqyakc1vFvK0QkuSBtgPQWP51fwdiBZm0hqJJvSMUoOeRS3uxn7cF4-slnT1PxUwZ-TDEVv939aBUx3jpnRfdVulGhTycO7E5CebeyED-8LFOnEfWu8g08zIG7MttcJy4wCXOH8z5pQAncP4Kw1MKQAlg7k39FOwhmUMa4T4aJjnbf57LgIA" class="ArticleHeaderComment__UserCommentIcon-gmxSaJ hfhACT"><img src="https://news-pctr.c.yimg.jp/uUzvQ3lML_bkIqyakc1vFvK0QkuSBtgPQWP51fwdiBZm0hqJJvSMUoOeRS3uxn7cF4-slnT1PxUwZ-TDEVv939aBUx3jpnRfdVulGhTycO7KFHIb7dm0mSFgj-fMTA8sAGPpRvAOQ4nY5mUCt1betEegeZKmuq1TLcLocd7vCkJBXxzFZVXt_atOZuCZygJY" class="ArticleHeaderComment__UserCommentIcon-gmxSaJ dhiOmS"><img src="https://news-pctr.c.yimg.jp/uUzvQ3lML_bkIqyakc1vFvK0QkuSBtgPQWP51fwdiBZm0hqJJvSMUoOeRS3uxn7cF4-slnT1PxUwZ-TDEVv939aBUx3jpnRfdVulGhTycO5u9TRL7F8DvX_zx3yzjyBP1_6KiH8SFb6mBP9vWT31IV0qnh5EfceREaO_sRyZsSRNe42ef0VStoY27EOrvJEG" class="ArticleHeaderComment__UserCommentIcon-gmxSaJ iLvMMJ"></span></button></div><div class="sc-jfkLlK hiwdBw"><div class="riff-flex riff-flex-row"><div class="riff-Stack__item riff-flex riff-flex-row riff-ml-2"><a class="sc-kJNqyW gFaqDi riff-SocialButtonX__root riff-Clickable__root riff-inline-flex riff-justify-center riff-items-center riff-relative riff-pr-0 riff-pl-0 riff-w-6 riff-h-6 riff-text-medium riff-font-bold riff-leading-none riff-rounded-tl-full riff-rounded-tr-full riff-rounded-bl-full riff-rounded-br-full riff-appearance-none riff-outline-none" aria-label="X" href="https://twitter.com/intent/tweet?text=19%E6%97%A5%E3%80%80%E4%B9%9D%E5%B7%9E%E3%81%AF%E6%9C%AC%E6%A0%BC%E7%9A%84%E3%81%AB%E9%9B%AA%E3%80%80%E5%90%84%E5%9C%B0%E3%81%A7%E5%8E%B3%E3%81%97%E3%81%84%E5%AF%92%E3%81%95%E3%80%80%E5%8C%97%E6%B5%B7%E9%81%93%E3%81%AF%E3%81%AA%E3%81%A0%E3%82%8C%E3%82%84%E8%90%BD%E9%9B%AA%E3%81%AB%E6%B3%A8%E6%84%8F(tenki.jp)%0A%23Yahoo%E3%83%8B%E3%83%A5%E3%83%BC%E3%82%B9%0Ahttps%3A%2F%2Fnews.yahoo.co.jp%2Farticles%2F3c8a25d2727396f2195d7cddb2130f7cd11fb700%3Fsource%3Dsns%26dv%3Dpc%26mid%3Dother%26date%3D20231219%26ctg%3Ddom%26bt%3Dtw_up" data-cl-params="_cl_vmodule:sns;_cl_link:tw;_cl_position:1;" target="_blank" rel="noopener" data-cl_cl_index="27"><svg height="65%" width="65%" class="riff-text-current" fill="currentColor" focusable="false" viewBox="0 0 48 48" aria-hidden="true"><path d="M27.365 21.244 40.48 6h-3.107L25.985 19.236 16.89 6H6.4l13.753 20.015L6.4 42h3.108l12.025-13.977L31.138 42h10.49L27.363 21.244h.001ZM23.11 26.19l-1.394-1.993L10.628 8.34H15.4l8.948 12.799 1.393 1.993 11.631 16.636H32.6l-9.491-13.575Z"></path></svg><div class="riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-border-t riff-border-r riff-border-b riff-border-l riff-border-transparent riff-pointer-events-none"></div><div class="riff-Clickable__hover riff-ClickableHover__root--inverted riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div><div class="riff-Clickable__pressed riff-ClickablePressed__root--inverted riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div><div class="riff-Clickable__focus riff-ClickableFocus__root--hideFocusRing riff-ClickableFocus__root--outside riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div></a></div><div class="riff-Stack__item riff-flex riff-flex-row riff-ml-2"><a class="sc-ciOKUB hWWbUq riff-SocialButtonFacebook__root riff-Clickable__root riff-inline-flex riff-justify-center riff-items-center riff-relative riff-pr-0 riff-pl-0 riff-w-6 riff-h-6 riff-text-medium riff-font-bold riff-leading-none riff-rounded-tl-full riff-rounded-tr-full riff-rounded-bl-full riff-rounded-br-full riff-appearance-none riff-outline-none" aria-label="Facebook" href="https://www.facebook.com/sharer?u=https://news.yahoo.co.jp/articles/3c8a25d2727396f2195d7cddb2130f7cd11fb700?source=fb" data-cl-params="_cl_vmodule:sns;_cl_link:fb;_cl_position:1;" target="_blank" rel="noopener" data-cl_cl_index="28"><div class="riff-overflow-x-hidden riff-overflow-y-hidden riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-text-current riff-rounded-tl-full riff-rounded-tr-full riff-rounded-bl-full riff-rounded-br-full"><svg height="131.8181%" width="131.8181%" class="riff-SocialButtonFacebook__icon riff-absolute riff-text-current" fill="currentColor" focusable="false" viewBox="0 0 48 48"><path d="M43 24c0-10.493-8.507-19-19-19S5 13.507 5 24c0 8.91 6.134 16.387 14.41 18.44V29.806h-3.918V24h3.918v-2.502c0-6.467 2.927-9.464 9.276-9.464 1.203 0 3.28.236 4.13.472v5.263c-.448-.047-1.227-.07-2.195-.07-3.115 0-4.32 1.18-4.32 4.248V24h6.207l-1.066 5.806h-5.14v13.055C35.71 41.725 43 33.714 43 24Z"></path></svg></div><div class="riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-border-t riff-border-r riff-border-b riff-border-l riff-border-transparent riff-pointer-events-none"></div><div class="riff-Clickable__hover riff-ClickableHover__root--inverted riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div><div class="riff-Clickable__pressed riff-ClickablePressed__root--inverted riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div><div class="riff-Clickable__focus riff-ClickableFocus__root--hideFocusRing riff-ClickableFocus__root--outside riff-ClickableState__root riff-z-10 riff-absolute riff-top-0 riff-right-0 riff-bottom-0 riff-left-0 riff-rounded-tl-inherit riff-rounded-tr-inherit riff-rounded-bl-inherit riff-rounded-br-inherit riff-opacity-0 riff-pointer-events-none"></div></a></div></div></div></div></div><div><a href="https://tenki.jp/" data-cl-params="_cl_vmodule:detail;_cl_link:banner;" class="sc-clGGWX irLJAw" data-cl_cl_index="29"><img src="https://s.yimg.jp/images/news/cobranding/tenki.png" alt="tenki.jp" width="170" height="40"></a></div></div></header><div class="article_body highLightSearchTarget" data-ual-view-type="detail" data-ual="service:news;apptype:web;opttype:pc;content_id:3c8a25d2727396f2195d7cddb2130f7cd11fb700;id_type:shannon_article;mtestid:mfn_46943=top09t3&amp;mfn_43679=cmt11t2&amp;mfn_46874=cmt17t1&amp;mfn_46715=oth37t3&amp;mfn_18800=ttlg2t1" data-ual-content-key="87b2faec-4449-4f94-ac97-5c49b34aff73"><div class="sc-hHSjgo gEfhZZ"><div class="sc-iKUVsf jtTICQ"><div class="sc-hoPuav gXmMhE"><a href="https://news.yahoo.co.jp/articles/3c8a25d2727396f2195d7cddb2130f7cd11fb700/images/000" data-cl-params="_cl_vmodule:detail;_cl_link:thum;_cl_position:1;view_pos:1;" class="sc-leehGg jabSoG" data-cl_cl_index="30"><div class="sc-lbVvki dpVko thumbnail"><picture><source type="image/webp" srcset="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-000-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800&amp;fmt=webp"><source type="image/jpeg" srcset="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-000-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800"><img src="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-000-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800" alt="" class="sc-gGLxEB drYcnX"></picture></div><p class="sc-hlXxXZ csoHSi">画像：tenki.jp</p></a></div></div><p class="sc-gLMgcV EJLaQ yjSlinkDirectlink highLightSearchTarget">今日19日は西日本の太平洋側を中心に冷たい雨や雪が降り、九州の山沿いなどでは本格的な積雪となる見込みです。積雪の増えた北海道はなだれや落雪などに注意が必要です。また、全国的に厳しい寒さとなるでしょう。</p></div><div class="sc-hHSjgo gEfhZZ"><h2 class="sc-jogDgT hBPNLh">西日本の太平洋側で冷たい雨や雪　北海道の大雪は小康状態</h2><div class="sc-iKUVsf TDcIY"><div class="sc-hoPuav gXmMhE"><a href="https://news.yahoo.co.jp/articles/3c8a25d2727396f2195d7cddb2130f7cd11fb700/images/001" data-cl-params="_cl_vmodule:detail;_cl_link:thum;_cl_position:1;view_pos:1;" class="sc-leehGg jabSoG" data-cl_cl_index="31"><div class="sc-lbVvki dpVko thumbnail"><picture><source type="image/webp" srcset="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-001-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800&amp;fmt=webp"><source type="image/jpeg" srcset="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-001-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800"><img src="https://newsatcl-pctr.c.yimg.jp/t/amd-img/20231219-00022961-tenki-001-2-view.jpg?pri=l&amp;w=640&amp;h=480&amp;exp=10800" alt="" class="sc-gGLxEB drYcnX"></picture></div><p class="sc-hlXxXZ csoHSi">画像：tenki.jp</p></a></div></div><p class="sc-gLMgcV EJLaQ yjSlinkDirectlink highLightSearchTarget">今日19日は西日本に<a class="yjSlinkDirectlinkHl" data-query="低気圧" rel="noopener" href="https://search.yahoo.co.jp/search?ei=UTF-8&amp;rkf=1&amp;slfr=1&amp;qrw=0&amp;p=%E4%BD%8E%E6%B0%97%E5%9C%A7&amp;fr=link_kw_nws_direct&amp;fr2=cid_3c8a25d2727396f2195d7cddb2130f7cd11fb700" target="_blank" data-cl_cl_index="209" style="cursor: pointer;">低気圧</a>や前線が接近する見込みです。午前5時現在、九州には既に広い範囲に雨雲がかかっていて、山沿いでは気温が1℃以下の所もあり、いつ積雪になってもおかしくない状況です。
# for elem in elems:
#     # print(elem.span.string)
#     # print(elem.attrs["href"])
#     pickup_url = elem.attrs["href"]
#     pickup_response = requests.get(pickup_url)
#     print(pickup_response.text)
    # pickup_soup = BeautifulSoup(pickup_response, "html.parser")
    # print(pickup_response.attrs["href"])
    # print(pickup_response.span.string)
